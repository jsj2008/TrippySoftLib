package {	import flash.display.*;	import flash.net.*;	import flash.events.*;	import flash.ui.*;		public class ViewMain extends Sprite {		public function ViewMain() {			stage.align = StageAlign.TOP_LEFT; 			stage.scaleMode = StageScaleMode.NO_SCALE;						TSLoader.load("view-tilemap.xml", loadedSettings, URLLoaderDataFormat.TEXT);		}				public function loadedSettings(data:String, url:String):void {			settings = new XML(data);			TS.initDebuggers(this);			Key.initialize(stage);						tilemap = new TSTilemap(settings.baseDir, settings.target, stage.stageWidth, stage.stageHeight);						stage.addEventListener(Event.ENTER_FRAME, Update);			stage.addEventListener(Event.RENDER, Render);		}				public var currentX:int = 0;		public var currentY:int = 0;		public var scrollSpeed:int = -25;				public function Update(e:Event):void {			stage.invalidate();						if(Key.isDown(Keyboard.LEFT)) currentX -= scrollSpeed;			if(Key.isDown(Keyboard.RIGHT)) currentX += scrollSpeed;			if(Key.isDown(Keyboard.UP)) currentY -= scrollSpeed;			if(Key.isDown(Keyboard.DOWN)) currentY += scrollSpeed;		}				public function Render(e:Event):void {			tilemap.render(this, currentX, currentY);		}				public var tilemap:TSTilemap;		public var settings:XML;	}}